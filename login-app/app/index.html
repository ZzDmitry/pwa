<!doctype html>
<html lang=en-GB>
  <head>
    <meta charset='utf-8'>
    <title>Login PWA</title>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='description' content='An Air horn. Probably the best air horn web app there is.'>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link rel="canonical" href="https://nsk.execution.su:8446/pwa2/">
    <link rel='manifest' href='manifest.json'>
    <meta name='mobile-web-app-capable' content='yes'>
    <meta name='apple-mobile-web-app-capable' content='yes'>
    <meta name='application-name' content='Air Horner'>
    <meta name='apple-mobile-web-app-status-bar-style' content='black'>
    <meta name='apple-mobile-web-app-title' content='Air Horner'>
    <link rel='icon' sizes='192x192' href='images/touch/android-launchericon-192-192.png'>
    <link rel='apple-touch-icon' href='images/touch/android-launchericon-192-192.png'>
    <meta name='msapplication-TileImage' content='images/touch/android-launchericon-144-144.png'>
    <meta name='msapplication-TileColor' content='#2196F3'>
    <meta name='theme-color' content='#2196F3'>
    <link rel='stylesheet' href='styles/bundle.min.css'>
    <script src='scripts/pwacompat.min.js' async></script>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>
  </head>
  <body>
    <div class="header">
      <span class="version">
        <!-- build:version --><!-- endbuild -->
      </span>
      <div id="update-available-reload" class="refresh" style="display: none;">
        <a href="#">New version available. Reload</a>
      </div>
    </div>
    <input id="subscribe-button" type="button" value="Subscribe" />
    <input id="push-button" type="button" value="Push20" />
    <form id="login-form" style="display: none">
      Login:<br>
      <input title="login" id="login-input" type="text" name="login" />
      <br>
      Password:<br>
      <input title="password" id="password-input" type="password" name="password" />
      <br>
      <input id="login-button" type="submit" value="Login" />
      <div id="login-result">
          <span class="error-message not-registered">User not registered</span>
          <span class="error-message wrong-password">Wrong password</span>
          <span class="error-message unknown-error">Unknown error</span>
      </div>
    </form>
    <form id="userinfo-form" style="display: none">
      User logged in
      <div id="userinfo"></div>
      <a id="user-home-page" href="">User homepage</a>
      <input id="logout-button" type="submit" value="Logout" />
    </form>
    <script src="scripts/main.js"></script>
    <script>
      if('serviceWorker' in navigator) {
        navigator.serviceWorker.register('sw.js', { scope: './' })
          .then(function(registration) {
                console.log('Service Worker Registered');
          });

        navigator.serviceWorker.ready.then(function(registration) {
           console.log('Service Worker Ready');
        });
      }
    </script>
  </body>
</html>
